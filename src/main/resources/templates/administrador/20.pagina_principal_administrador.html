<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Inicio administrador</title>
    <script src="https://kit.fontawesome.com/14122cd484.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link th:href="@{/css/1.estilos_pagina_inicio.css}" rel="stylesheet">
    <link th:href="@{/css/20.pagina_principal_admin.css}" rel="stylesheet">
</head>

<body>
<header th:insert="Layouts/header_footerAdmin :: header"></header>

<main class="cuerpo_indrugs">
    <div th:insert="Layouts/header_footerAdmin :: error"></div>
    <div class="contenido">
        <section class="dashboard">
            <div class="cards">

                <div class="card">
                    <a th:href="@{/17.pagina_inventario}">
                        <div>
                            <span class="card_numeros" th:text="${cantidadInventario}">0</span><br>
                            <span class="card_nombre">Inventario</span>
                        </div>
                        <div class="card_icono">
                            <img th:src="@{/Iconos/icons8-inventario-96.png}" alt="">
                        </div>
                    </a>
                </div>
                <div class="card">
                    <a th:href="@{/21.pagina_usuarios}">
                        <div>
                            <span class="card_numeros" th:text="${estadisticas.ACTIVOS}">0</span><br>
                            <span class="card_nombre">Usuarios</span>
                        </div>
                        <div class="card_icono">
                            <img th:src="@{/Iconos/icons8-usuarios-96.png}" alt="">
                        </div>
                    </a>
                </div>
                <div class="card">
                    <a th:href="@{/18.pagina}">
                        <div>
                            <span class="card_numeros" th:text="${cantidadOrdenes}">0</span><br>
                            <span class="card_nombre">Órdenes</span>
                        </div>
                        <div class="card_icono">
                            <img th:src="@{/Iconos/icons8-clasificación-de-respuestas-80.png}" alt="">
                        </div>
                    </a>
                </div>
            </div>

            <div class="contenido_dash">

                <div class="ordenes_recientes">
                    <div class="cabeza1">
                        <h2>Órdenes recientes</h2>
                        <a th:href="@{/ordenes}">
                            <input class="botonD" type="button" value="VER TODO">
                        </a>
                    </div>
                    <table id="tabla1" class="table">
                        <thead class="table-dark">
                        <tr>
                            <th>ID</th>
                            <th>Usurios</th>
                            <th>EPS</th>
                            <th>Fecha de orden</th>
                            <th>Estado de orden</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr class="table" id="cuerpo_tabla2" th:each="orden : ${ordenesRecientes}">
                            <td colspan="5" class="text-center">
                            <td th:text="${orden.idOrden}">ID</td>
                            <td th:text="${orden.pacienteNombre}">Usuario</td>
                            <td th:text="${orden.fechaEntrega}">FechaEntregaOrden</td>
                            <td th:text="${orden.estadoOrden}">Estado</td>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="domicilio">
                    <div class="cabeza1">
                        <h2>Resumen de usuarios</h2>
                        <a th:href="@{/21.pagina_usuarios}">
                            <input class="botonD" type="button" value="VER TODO">
                        </a>
                    </div>

                    <!-- Usuarios recientes -->
                    <table id="tabla2" class="table">
                        <thead class="table-dark">
                        <tr>
                            <th>Rol</th>
                            <th>Nombre</th>
                            <th>Estado</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="usuario : ${usuariosRecientes}">
                            <td>
                                <span class="badge"
                                      th:classappend="${usuario.nombreRol == 'Paciente' ? 'bg-primary' :
                (usuario.nombreRol == 'Domiciliario' ? 'bg-success' : 'bg-warning')}"
                                      th:text="${usuario.nombreRol}">
                                </span>
                            </td>
                            <td th:text="${usuario.nombre}"></td>
                            <td>
                                <span class="badge"
                                      th:classappend="${usuario.estado == 'ACTIVO' ? 'bg-success' : 'bg-danger'}"
                                      th:text="${usuario.estado}">
                                </span>
                            </td>
                        </tr>
                        <tr th:if="${usuariosRecientes == null or usuariosRecientes.isEmpty()}">
                            <td colspan="3" class="text-center">
                                <em>No hay usuarios recientes</em>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>
</main>

<footer th:insert="Layouts/header_footerAdmin :: footer"></footer>
</body>
</html>
